<head>
    <head>
        <link rel="stylesheet" th:href="@{/css/header.css}">
    </head>

</head>
<header>
<nav class="navigator">
    <div class="nav-left">
        <h3 class="site-name"><a href="/main">BOB</a></h3>
        <ul class="nav-list">
            <li class="nav-item">
                <a href="#" class="nav-menu">공모전</a>
                <div class="all-dropdown-menu">
                    <div class="dropdown-section">
                        <ul>
                            <li><a href="#">공모전 정보</a></li>
                            <li><a href="#">지난 공모전</a></li>
                        </ul>
                    </div>
                </div>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-menu">게시판</a>
                <div class="all-dropdown-menu">
                    <div class="dropdown-section">
                        <ul>
                            <li><a href="#">자유게시판</a></li>
                            <li><a href="#">공지사항</a></li>
                        </ul>
                    </div>
                </div>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-menu">문의</a>
                <div class="all-dropdown-menu">
                    <div class="dropdown-section">
                        <ul>
                            <li><a href="#">문의사항</a></li>
                            <li><a href="#">FAQ</a></li>
                        </ul>
                    </div>
                </div>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-menu">프로젝트</a>
                <div class="all-dropdown-menu">
                    <div class="dropdown-section">
                        <ul>
                            <li><a href="#">문의사항</a></li>
                            <li><a href="#">FAQ</a></li>
                        </ul>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <div class="nav-right">
        <div class="search-bar-container">
            <form id="searchForm">
                <input type="text" name="kw" id="search_kw" class="search-bar" placeholder="검색어 입력" th:value="${kw}">
                <span class="search-icon"><img src="search.png" alt=""></span>
            </form>
        </div>
        <a href="#" class="user-icon"><img src="user.png" alt=""></a>
    </div>
</nav>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        const dropdownToggles = document.querySelectorAll(".dropdown-toggle");

        dropdownToggles.forEach(toggle => {
            toggle.addEventListener("click", (e) => {
                e.preventDefault(); // 기본 동작 막기
                const parent = toggle.parentElement;

                // 다른 드롭다운 닫기
                document.querySelectorAll(".dropdown").forEach(dropdown => {
                    if (dropdown !== parent) {
                        dropdown.classList.remove("show");
                    }
                });

                // 현재 드롭다운 열기/닫기
                parent.classList.toggle("show");
            });
        });

        // 페이지 클릭 시 드롭다운 닫기
        document.addEventListener("click", (e) => {
            if (!e.target.closest(".dropdown")) {
                document.querySelectorAll(".dropdown").forEach(dropdown => {
                    dropdown.classList.remove("show");
                });
            }
        });
    });
</script>
</header>

